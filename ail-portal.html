<!DOCTYPE html>
<html lang="en-AU">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AIL Portal – Safe Freight Program</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Modular header/footer -->
  <script defer src="/js/load-header-footer.js"></script>

  <style>
    /* Subtle tile lift */
    .sfp-card { transition: transform .15s ease, box-shadow .15s ease; }
    .sfp-card:hover { transform: translateY(-2px); box-shadow: 0 10px 18px rgba(0,0,0,0.12); }
    /* Ensure page can scroll normally */
    html, body { height: auto; }
  </style>

  <script>
    // Page title for shared header
    window.injectPageTitle = "AIL Portal";

    // Simple guard (works with our current localStorage approach)
    document.addEventListener("DOMContentLoaded", () => {
      try {
        const u = JSON.parse(localStorage.getItem("sfp_user") || "{}");
        if (!u || !u.email) {
          const dest = encodeURIComponent(location.pathname + location.search);
          location.replace(`/login.html?next=${dest}`);
        }
      } catch {
        const dest = encodeURIComponent(location.pathname + location.search);
        location.replace(`/login.html?next=${dest}`);
      }
    });
  </script>
</head>

<!-- Normal flow; NO overflow hidden -->
<body class="bg-gray-100 min-h-screen flex flex-col">

  <!-- Shared header -->
  <div id="header-placeholder"></div>

  <main class="flex-grow">
    <!-- Hero -->
    <section class="bg-blue-900 text-white">
      <div class="max-w-7xl mx-auto px-4 py-8">
        <h1 class="text-2xl font-semibold">Authorised Inspection Locations</h1>
        <p class="text-blue-100 mt-1">Your hub for inspections, history, and resources.</p>
      </div>
    </section>

    <!-- Tiles -->
    <section class="max-w-7xl mx-auto px-4 py-8">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <!-- Submit Inspection -->
        <a href="/inspect.html" class="sfp-card block rounded-2xl bg-white p-5 shadow hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          <div class="flex items-start justify-between">
            <div>
              <h2 class="text-lg font-semibold text-gray-900">Submit Vehicle Inspection</h2>
              <p class="text-gray-600 mt-2">Start a new inspection; vehicle type selects the right checklist.</p>
            </div>
            <span aria-hidden="true" class="text-blue-700 font-medium">→</span>
          </div>
        </a>

        <!-- Inspection History -->
        <a href="/inspections.html" class="sfp-card block rounded-2xl bg-white p-5 shadow hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          <div class="flex items-start justify-between">
            <div>
              <h2 class="text-lg font-semibold text-gray-900">Inspection History</h2>
              <p class="text-gray-600 mt-2">Browse by date, SFPV‑ID, rego, or status.</p>
            </div>
            <span aria-hidden="true" class="text-blue-700 font-medium">→</span>
          </div>
        </a>

        <!-- Update AIL Profile -->
        <a href="/ail-profile.html" class="sfp-card block rounded-2xl bg-white p-5 shadow hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          <div class="flex items-start justify-between">
            <div>
              <h2 class="text-lg font-semibold text-gray-900">Update AIL Details</h2>
              <p class="text-gray-600 mt-2">Keep contact and licensing info current.</p>
            </div>
            <span aria-hidden="true" class="text-blue-700 font-medium">→</span>
          </div>
        </a>

        <!-- Resources -->
        <a href="/resources-ail.html" class="sfp-card block rounded-2xl bg-white p-5 shadow hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          <div class="flex items-start justify-between">
            <div>
              <h2 class="text-lg font-semibold text-gray-900">Guides & Templates</h2>
              <p class="text-gray-600 mt-2">Checklists, SOPs, and how‑to videos.</p>
            </div>
            <span aria-hidden="true" class="text-blue-700 font-medium">→</span>
          </div>
        </a>

        <!-- Support -->
        <a href="/support.html" class="sfp-card block rounded-2xl bg-white p-5 shadow hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          <div class="flex items-start justify-between">
            <div>
              <h2 class="text-lg font-semibold text-gray-900">Support</h2>
              <p class="text-gray-600 mt-2">Raise a ticket or contact SFP.</p>
            </div>
            <span aria-hidden="true" class="text-blue-700 font-medium">→</span>
          </div>
        </a>

        <!-- Admin (optional role-gate visually later) -->
        <a href="/admin.html" class="sfp-card block rounded-2xl bg-white p-5 shadow hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
          <div class="flex items-start justify-between">
            <div>
              <h2 class="text-lg font-semibold text-gray-900">Admin</h2>
              <p class="text-gray-600 mt-2">Manage AILs, forms, and access.</p>
            </div>
            <span aria-hidden="true" class="text-blue-700 font-medium">→</span>
          </div>
        </a>
      </div>
    </section>
  </main>

  <!-- Shared footer -->
  <div id="footer-placeholder"></div>
</body>
</html>
