<!DOCTYPE html>

<html lang="en-AU">
<head>
    <meta name="robots" content="noindex,nofollow">

<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>AIL Portal – Safe Freight Program</title>
<link href="favicon.ico" rel="icon" type="image/x-icon"/>
<script src="https://cdn.tailwindcss.com"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<style>
    .tile-card { transition: box-shadow .15s ease, transform .15s ease; }
    .tile-card:hover { box-shadow: 0 10px 30px rgba(0,0,0,.12); transform: translateY(-1px); }
  </style>
<script>
    // Set title for centered header text
    const injectPageTitle = 'AIL Portal';
  </script>
</head>
<body class="bg-gray-100 font-sans min-h-screen flex flex-col">
<!-- Injected shared header -->
<div id="header-placeholder"></div>
<main class="flex-grow w-full mt-2 px-4 sm:px-6 lg:px-8">
<!-- Tiles immediately under header -->
<section class="max-w-7xl mx-auto py-4">
<div class="grid gap-5 sm:grid-cols-2 xl:grid-cols-3">
<!-- Submit Vehicle Inspection -->
<a class="tile-card block rounded-2xl bg-white p-6 shadow" data-requires-role="inspector ail_manager admin" href="/inspect.html">
<div class="flex items-center gap-3">
<!-- Clipboard Check -->
<svg class="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M9 5h6m-5 8l2 2 4-4M9 3h6a2 2 0 012 2v14a2 2 0 01-2 2H9a2 2 0 01-2-2V5a2 2 0 012-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<h3 class="text-xl font-semibold">Submit Vehicle Inspection</h3>
</div>
<p class="mt-2 text-gray-600">Start a new inspection; vehicle type selects the right checklist.</p>
</a>
<!-- Inspection History -->
<a class="tile-card block rounded-2xl bg-white p-6 shadow" data-requires-role="inspector ail_manager admin" href="/inspection-history.html">
<div class="flex items-center gap-3">
<!-- Clock -->
<svg class="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<h3 class="text-xl font-semibold">Inspection History</h3>
</div>
<p class="mt-2 text-gray-600">Browse by date, SFPV‑ID, rego, or status.</p>
</a>
<!-- Update AIL Details -->
<a class="tile-card block rounded-2xl bg-white p-6 shadow" data-requires-role="ail_manager admin" href="/update-ail.html">
<div class="flex items-center gap-3">
<!-- ID/Pencil -->
<svg class="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M11 5H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-5M18.5 2.5l3 3m-8.5 8.5l6-6" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<h3 class="text-xl font-semibold">Update AIL Details</h3>
</div>
<p class="mt-2 text-gray-600">Keep contact and licensing info current.</p>
</a>
<!-- Guides & Templates -->
<a class="tile-card block rounded-2xl bg-white p-6 shadow" href="/guides.html">
<div class="flex items-center gap-3">
<!-- Book Open -->
<svg class="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 6l-2-1-6 2v10l6-2 2 1m0-10l2-1 6 2v10l-6-2-2 1M12 6v10" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<h3 class="text-xl font-semibold">Guides &amp; Templates</h3>
</div>
<p class="mt-2 text-gray-600">Checklists, SOPs, and how‑to videos.</p>
</a>
<!-- Support -->
<a class="tile-card block rounded-2xl bg-white p-6 shadow" href="/support.html">
<div class="flex items-center gap-3">
<!-- Lifebuoy -->
<svg class="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 6a6 6 0 016 6m-6 6a6 6 0 01-6-6m0 0a6 6 0 016-6m0 0v4m0 8v4m-6-6h4m8 0h4" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<h3 class="text-xl font-semibold">Support</h3>
</div>
<p class="mt-2 text-gray-600">Raise a ticket or contact SFP.</p>
</a>
<!-- Admin -->
<a class="tile-card block rounded-2xl bg-white p-6 shadow" data-requires-role="ail_manager admin site_manager" href="/admin.html">
<div class="flex items-center gap-3">
<!-- Cog -->
<svg class="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M10.325 4.317l.86-1.48a1 1 0 011.73 0l.86 1.48a1 1 0 00.75.5l1.7.25a1 1 0 01.83 1.15l-.32 1.69a1 1 0 00.29.9l1.22 1.22a1 1 0 010 1.41l-1.22 1.22a1 1 0 00-.29.9l.32 1.69a1 1 0 01-.83 1.15l-1.7.25a1 1 0 00-.75.5l-.86 1.48a1 1 0 01-1.73 0l-.86-1.48a1 1 0 00-.75-.5l-1.7-.25a1 1 0 01-.83-1.15l.32-1.69a1 1 0 00-.29-.9L6.1 12.34a1 1 0 010-1.41l1.22-1.22a1 1 0 00.29-.9l-.32-1.69A1 1 0 017.92 5.07l1.7-.25a1 1 0 00.705-.5zM12 9a3 3 0 100 6 3 3 0 000-6z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<h3 class="text-xl font-semibold">Admin</h3>
</div>
<p class="mt-2 text-gray-600">Manage AILs, forms, and access.</p>
</a>
</div>
</section>
</main>
<!-- Injected shared footer -->
<div id="footer-placeholder"></div>
<!-- Load header/footer then account indicator -->
<script>
    // Load header
    fetch('/components/header.html')
      .then(res => res.text())
      .then(html => {
        const mount = document.getElementById('header-placeholder');
        mount.innerHTML = html;

        requestAnimationFrame(() => {
          const t = mount.querySelector('#page-title');
          if (t && typeof injectPageTitle !== 'undefined') {
            t.textContent = injectPageTitle;
            t.classList.remove('hidden');
          }
        });

        // Account icon script
        const s = document.createElement("script");
        s.src = "/js/account-indicator.js";
        document.body.appendChild(s);
      })
      .catch(err => console.error("Failed to load header:", err));

    // Load footer
    fetch('/components/footer.html')
      .then(res => res.text())
      .then(html => (document.getElementById('footer-placeholder').innerHTML = html))
      .catch(err => console.error("Failed to load footer:", err));
  </script>
<!-- Mount points for shared fragments -->
<div id="header-placeholder"></div>
<!-- … your page content … -->
<div id="footer-placeholder"></div>
<!-- Global scripts (keep these in the page, NOT inside header.html) -->
<script src="/js/sfp-auth.js" type="module"></script>
<script src="/js/sfp-api.js" type="module"></script>
<script src="/js/sfp-gas-fetch-patch.js"></script>
<script src="/js/sfp-config.js"></script> <!-- sets SFP_GAS_BASE + SFP_ROLES_URL -->
<script defer="" src="/js/load-header-footer.js"></script>
<script defer="" src="/js/account-indicator.js"></script> <!-- your existing file -->
<script defer="" src="/js/role-guards.js"></script>
<script defer="" src="/js/menu-enhance.js"></script>
<script type="module">import { guardPage } from "/js/role-gate.js";</script>
<script type="module">
  import { guardPage } from "/js/role-gate.js";
  guardPage(["inspector", "ail_manager", "admin"]);
</script>

</body>
    <script type="module" src="/js/sfp-auth-guard.js" data-requires-role="inspector,admin"></script>

</html>
